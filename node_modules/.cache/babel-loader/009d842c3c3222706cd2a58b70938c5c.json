{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import\"../../App.css\";import{Container,ConteudoTitulo,BotaoAcao,ButtonSuccess,Table,Titulo,ButtonPrimary,ButtonWarning,ButtonDanger,AlertSuccess,AlertDanger,page,Page}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),totpage=_useState4[0],setTotpage=_useState4[1];var _useState5=useState({type:'',mensagem:''}),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var getProdutos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var botao1;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:botao1=document.getElementById(\"anterior\");botao1.style.display=\"none\";fetch(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=1\").then(function(response){return response.json();}).then(function(responseJson){return localStorage.setItem('proxima',responseJson.proxima),localStorage.setItem('anterior',responseJson.Anterior),localStorage.setItem('atual',responseJson.npagina),localStorage.setItem('ultima',responseJson.nTotpagina),insertgetProdutos(responseJson);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getProdutos(_x){return _ref.apply(this,arguments);};}();var insertgetProdutos=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(responseJson){var b;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(responseJson.message==\"página não disponível\"){setData([{nome:'Nenhum registro encontrado'}]);b=document.getElementById(\"b\");b.style.display=\"none\";}else{setData(responseJson.records);setTotpage(responseJson.nTotpagina);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function insertgetProdutos(_x2){return _ref2.apply(this,arguments);};}();var getProdutospage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(page){var botao1;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(page==\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=1\"){botao1=document.getElementById(\"anterior\");botao1.style.display=\"none\";}else{botao1=document.getElementById(\"anterior\");botao1.style.display=\"inline\";}fetch(page).then(function(response){return response.json();}).then(function(responseJson){return localStorage.setItem('proxima',responseJson.proxima),localStorage.setItem('anterior',responseJson.Anterior),localStorage.setItem('atual',responseJson.npagina),localStorage.setItem('ultima',responseJson.nTotpagina),setData(responseJson.records),teste2(responseJson.npagina);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function getProdutospage(_x3){return _ref3.apply(this,arguments);};}();function teste2(x){if(x==localStorage.getItem('ultima')){var botao2=document.getElementById(\"proxima\");botao2.style.display=\"none\";}else{var botao2=document.getElementById(\"proxima\");botao2.style.display=\"inline\";}}var apagarProduto=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(idProduto){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto?id=\"+idProduto,{method:'delete',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(responseJson){if(responseJson.erro){setStatus({type:'erro',mensagem:responseJson.status});}else{setStatus({type:'success',mensagem:responseJson.status});getProdutos();}}).catch(function(){setStatus({type:'erro',mensagem:\"Erro: Produto não apagado com sucesso, tente mais tarde\"});});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function apagarProduto(_x4){return _ref4.apply(this,arguments);};}();useEffect(function(){getProdutos();},[]);var Ages2=function Ages2(){var teste=[];var _loop=function _loop(index){if(index==localStorage.getItem(\"atual\")){teste.push(/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\"+index);},class:\"active\",href:\"#\",children:index}));}else{teste.push(/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\"+index);},href:\"#\",children:index}));}};for(var index=1;index<=totpage;index++){_loop(index);}return teste;};var cont=1;return/*#__PURE__*/_jsxs(Container,{children:[status.type==='erro'?/*#__PURE__*/_jsxs(AlertDanger,{children:[\"\\\"\",\"erro\",\"\\\"\"]}):\"\",status.type==='success'?/*#__PURE__*/_jsx(AlertSuccess,{children:\"Eletronico deletado com sucesso\"}):\"\",/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"crud\",children:\"Crud eletrodomestico\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/Seach\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--nanuk button--round-l button--text-thick button--inverted\",children:[\"\\uD83D\\uDD0E \",/*#__PURE__*/_jsx(\"span\",{children:\"P\"}),/*#__PURE__*/_jsx(\"span\",{children:\"E\"}),/*#__PURE__*/_jsx(\"span\",{children:\"S\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Q\"}),/*#__PURE__*/_jsx(\"span\",{children:\"U\"}),/*#__PURE__*/_jsx(\"span\",{children:\"I\"}),/*#__PURE__*/_jsx(\"span\",{children:\"S\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tens\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.values(data).map(function(produto){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:produto.id}),/*#__PURE__*/_jsx(\"td\",{children:produto.nome}),/*#__PURE__*/_jsx(\"td\",{children:produto.descricao}),/*#__PURE__*/_jsx(\"td\",{children:produto.tensao}),/*#__PURE__*/_jsx(\"td\",{children:produto.marca}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"ul\",{id:\"b\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/visualizar/\"+produto.id,children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--moema button--inverted button--text-thick button--size-s\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"V\"}),/*#__PURE__*/_jsx(\"span\",{children:\"i\"}),/*#__PURE__*/_jsx(\"span\",{children:\"z\"}),/*#__PURE__*/_jsx(\"span\",{children:\"u\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"l\"}),/*#__PURE__*/_jsx(\"span\",{children:\"i\"}),/*#__PURE__*/_jsx(\"span\",{children:\"z\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"r\"})]})}),\" \"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/editar/\"+produto.id,children:/*#__PURE__*/_jsxs(\"button\",{class:\" editar button button--moema button--inverted button--text-thick button--size-s\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"E\"}),/*#__PURE__*/_jsx(\"span\",{children:\"d\"}),/*#__PURE__*/_jsx(\"span\",{children:\"i\"}),/*#__PURE__*/_jsx(\"span\",{children:\"t\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"r\"})]})}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return apagarProduto(produto.id);},class:\"deletar button button--moema button--inverted button--text-thick button--size-s\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"e\"}),/*#__PURE__*/_jsx(\"span\",{children:\"l\"}),/*#__PURE__*/_jsx(\"span\",{children:\"e\"}),/*#__PURE__*/_jsx(\"span\",{children:\"t\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"r\"})]})})]})})]},produto.id),/*#__PURE__*/_jsx(\"br\",{})]});})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/cadastrar\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--nanuk button--round-l button--text-thick button--inverted\",children:[\"\\u2795 \",/*#__PURE__*/_jsx(\"span\",{children:\"C\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"S\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"})]})})})}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(Page,{children:[/*#__PURE__*/_jsx(\"a\",{id:\"anterior\",onClick:function onClick(){return getProdutospage(localStorage.getItem(\"anterior\"));},href:\"#\",children:\"\\xAB\"}),/*#__PURE__*/_jsx(Ages2,{}),/*#__PURE__*/_jsx(\"a\",{id:\"proxima\",onClick:function onClick(){return getProdutospage(localStorage.getItem(\"proxima\"));},href:\"#\",children:\"\\xBB\"})]})})]});};","map":{"version":3,"sources":["C:/xampp/htdocs/front-end/src/pages/Home/index.js"],"names":["React","useState","useEffect","Link","Container","ConteudoTitulo","BotaoAcao","ButtonSuccess","Table","Titulo","ButtonPrimary","ButtonWarning","ButtonDanger","AlertSuccess","AlertDanger","page","Page","Home","data","setData","totpage","setTotpage","type","mensagem","status","setStatus","getProdutos","botao1","document","getElementById","style","display","fetch","then","response","json","responseJson","localStorage","setItem","proxima","Anterior","npagina","nTotpagina","insertgetProdutos","message","nome","b","records","getProdutospage","teste2","x","getItem","botao2","apagarProduto","idProduto","method","headers","erro","catch","Ages2","teste","index","push","cont","Object","values","map","produto","id","descricao","tensao","marca"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"../../App.css\";\r\n\r\nimport { Container, ConteudoTitulo, BotaoAcao, ButtonSuccess, Table, Titulo, ButtonPrimary, ButtonWarning, ButtonDanger, AlertSuccess, AlertDanger, page, Page } from './styles';\r\n\r\n\r\nexport const Home = () => {\r\n\r\n  const [data, setData] = useState([]);\r\n  const [totpage, setTotpage] = useState([]);\r\n\r\n\r\n  const [status, setStatus] = useState({\r\n    type: '',\r\n    mensagem: ''\r\n  });\r\n\r\n  const getProdutos = async (page) => {\r\n    var botao1 = document.getElementById(\"anterior\")\r\n    botao1.style.display = \"none\"\r\n    fetch(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=1\")\r\n      .then((response) => response.json())\r\n      .then((responseJson) => (\r\n        localStorage.setItem('proxima', responseJson.proxima),\r\n        localStorage.setItem('anterior', responseJson.Anterior),\r\n        localStorage.setItem('atual', responseJson.npagina),\r\n        localStorage.setItem('ultima', responseJson.nTotpagina),\r\n        insertgetProdutos(responseJson)\r\n      ));\r\n  }\r\n\r\n  const insertgetProdutos = async (responseJson) => {\r\n    if (responseJson.message == \"página não disponível\") {\r\n      setData([\r\n        { nome: 'Nenhum registro encontrado' }\r\n      ])\r\n      var b = document.getElementById(\"b\")\r\n      b.style.display = \"none\"\r\n    } else {\r\n      setData(responseJson.records);\r\n      setTotpage(responseJson.nTotpagina);\r\n    }\r\n\r\n  }\r\n\r\n  const getProdutospage = async (page) => {\r\n    if (page == \"https://www.armandosoares.com.br/grupoplan/api/produtos?page=1\") {\r\n      var botao1 = document.getElementById(\"anterior\")\r\n      botao1.style.display = \"none\"\r\n    } else {\r\n      var botao1 = document.getElementById(\"anterior\")\r\n      botao1.style.display = \"inline\"\r\n    }\r\n    fetch(page)\r\n      .then((response) => response.json())\r\n      .then((responseJson) => (\r\n        localStorage.setItem('proxima', responseJson.proxima),\r\n        localStorage.setItem('anterior', responseJson.Anterior),\r\n        localStorage.setItem('atual', responseJson.npagina),\r\n        localStorage.setItem('ultima', responseJson.nTotpagina),\r\n\r\n        setData(responseJson.records),\r\n\r\n        teste2(responseJson.npagina)\r\n      )\r\n      );\r\n  }\r\n\r\n  function teste2(x) {\r\n    if (x == localStorage.getItem('ultima')) {\r\n      var botao2 = document.getElementById(\"proxima\")\r\n      botao2.style.display = \"none\"\r\n    } else {\r\n      var botao2 = document.getElementById(\"proxima\")\r\n      botao2.style.display = \"inline\"\r\n    }\r\n  }\r\n\r\n  const apagarProduto = async (idProduto) => {\r\n    //console.log(idProduto);\r\n    await fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto?id=\" + idProduto, {\r\n      method: 'delete',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then((response) => response.json())\r\n      .then((responseJson) => {\r\n        if (responseJson.erro) {\r\n          setStatus({\r\n            type: 'erro',\r\n            mensagem: responseJson.status\r\n          });\r\n        } else {\r\n          setStatus({\r\n            type: 'success',\r\n            mensagem: responseJson.status\r\n          });\r\n          getProdutos();\r\n        }\r\n      }).catch(() => {\r\n        setStatus({\r\n          type: 'erro',\r\n          mensagem: \"Erro: Produto não apagado com sucesso, tente mais tarde\"\r\n        });\r\n      });\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    getProdutos();\r\n  }, [])\r\n\r\n\r\n  const Ages2 = () => {\r\n    var teste = [];\r\n    for (let index = 1; index <= totpage; index++) {\r\n\r\n      if (index == localStorage.getItem(\"atual\")) {\r\n        teste.push(<a onClick={() => getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\" + index)} class='active' href='#'>{index}</a>);\r\n      } else {\r\n        teste.push(<a onClick={() => getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\" + index)} href='#'>{index}</a>);\r\n      }\r\n\r\n    }\r\n    return teste\r\n  };\r\n  var cont = 1;\r\n  return (\r\n    <Container>\r\n      {status.type === 'erro' ? <AlertDanger>\"{\"erro\"}\"</AlertDanger> : \"\"}\r\n      {status.type === 'success' ? <AlertSuccess>{\"Eletronico deletado com sucesso\"}</AlertSuccess> : \"\"}\r\n\r\n      <center><h2 className='crud'>Crud eletrodomestico</h2></center>\r\n      <div class=\"grid-container\">\r\n\r\n        <div>\r\n          <Link to=\"/Seach\">\r\n            <button class=\"button button--nanuk button--round-l button--text-thick button--inverted\">\r\n              🔎 <span>P</span><span>E</span><span>S</span><span>Q</span><span>U</span><span>I</span><span>S</span><span>A</span><span>R</span>\r\n            </button>\r\n          </Link>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div>\r\n        <table>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Nome</th>\r\n            <th>Descrição</th>\r\n            <th>Tensão</th>\r\n            <th>Marca</th>\r\n          </tr>\r\n          <tbody>\r\n            {Object.values(data).map(produto => (\r\n              <><tr key={produto.id}>\r\n                <td>{produto.id}</td>\r\n                <td>{produto.nome}</td>\r\n                <td>{produto.descricao}</td>\r\n                <td>{produto.tensao}</td>\r\n                <td>{produto.marca}</td>\r\n                <td>\r\n                  <ul id='b'>\r\n                    <li><Link to={\"/visualizar/\" + produto.id}>\r\n                      <button class=\"button button--moema button--inverted button--text-thick button--size-s\">\r\n                        <span>V</span><span>i</span><span>z</span><span>u</span><span>a</span><span>l</span><span>i</span><span>z</span><span>a</span><span>r</span>\r\n                      </button>\r\n                    </Link>{\" \"}</li>\r\n                    <li> <Link to={\"/editar/\" + produto.id}>\r\n                      <button class=\" editar button button--moema button--inverted button--text-thick button--size-s\">\r\n                        <span>E</span><span>d</span><span>i</span><span>t</span><span>a</span><span>r</span>\r\n                      </button>\r\n                    </Link>{\" \"}</li>\r\n                    <li><button onClick={() => apagarProduto(produto.id)} class=\"deletar button button--moema button--inverted button--text-thick button--size-s\">\r\n                      <span>D</span><span>e</span><span>l</span><span>e</span><span>t</span><span>a</span><span>r</span>\r\n                    </button></li>\r\n                  </ul>\r\n                </td>\r\n              </tr>\r\n                <br></br>\r\n              </>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"grid-container\">\r\n        <div>\r\n          <Link to=\"/cadastrar\">\r\n            <button class=\"button button--nanuk button--round-l button--text-thick button--inverted\">\r\n              ➕ <span>C</span><span>A</span><span>D</span><span>A</span><span>S</span><span>T</span><span>R</span><span>A</span><span>R</span>\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <center>\r\n        <Page>\r\n          <a id='anterior' onClick={() => getProdutospage(localStorage.getItem(\"anterior\"))} href=\"#\">&laquo;</a>\r\n          <Ages2>\r\n          </Ages2>\r\n          <a id='proxima' onClick={() => getProdutospage(localStorage.getItem(\"proxima\"))} href=\"#\">&raquo;</a>\r\n        </Page>\r\n      </center>\r\n    </Container>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}