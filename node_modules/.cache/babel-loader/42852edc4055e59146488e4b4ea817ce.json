{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import\"../../App.css\";import{Container,ConteudoTitulo,BotaoAcao,ButtonSuccess,Table,Titulo,ButtonPrimary,ButtonWarning,ButtonDanger,AlertSuccess,AlertDanger,page,Page}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Seach=function Seach(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),totpage=_useState4[0],setTotpage=_useState4[1];var _useState5=useState({type:'',mensagem:''}),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var _useState7=useState({Seach:''}),_useState8=_slicedToArray(_useState7,2),Seach=_useState8[0],setSeach=_useState8[1];localStorage.setItem('seach',Seach.Seach);var ValueSeach=function ValueSeach(e){setSeach(_objectSpread(_objectSpread({},Seach),{},_defineProperty({},e.target.name,e.target.value)));setTimeout(function(){console.log(Seach.Seach);getProdutospage(localStorage.getItem(\"seach\"));},600);};var getProdutospage=function getProdutospage(page){console.log(page);fetch(\"https://www.armandosoares.com.br/grupoplan/api/produtos/s?titulo=\"+page).then(function(response){return response.json();}).then(function(responseJson){return teste44(responseJson.Produtos);});};function teste44(params){if(params==204){console.log(\"nehum econtrado\");setData([{nome:'Nenhum registro encontrado'}]);var b=document.getElementById(\"b\");b.style.display=\"none\";}else{setData(params);}}function teste2(x){if(x==localStorage.getItem('ultima')){var botao2=document.getElementById(\"proxima\");botao2.style.display=\"none\";}else{var botao2=document.getElementById(\"proxima\");botao2.style.display=\"inline\";}}var apagarProduto=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(idProduto){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto?id=\"+idProduto,{method:'delete',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(responseJson){if(responseJson.erro){setStatus({type:'erro',mensagem:responseJson.status});}else{setStatus({type:'success',mensagem:responseJson.status});}}).catch(function(){setStatus({type:'erro',mensagem:\"Erro: Produto n√£o apagado com sucesso, tente mais tarde\"});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function apagarProduto(_x){return _ref.apply(this,arguments);};}();useEffect(function(){},[]);var Ages2=function Ages2(){var teste=[];var _loop=function _loop(index){if(index==localStorage.getItem(\"atual\")){teste.push(/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\"+index);},class:\"active\",href:\"#\",children:index}));}else{teste.push(/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\"+index);},href:\"#\",children:index}));}};for(var index=1;index<=totpage;index++){_loop(index);}return teste;};var cont=1;return/*#__PURE__*/_jsxs(Container,{children:[status.type==='erro'?/*#__PURE__*/_jsx(AlertDanger,{children:status.mensagem}):\"\",status.type==='success'?/*#__PURE__*/_jsx(AlertSuccess,{children:status.mensagem}):\"\",/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"webflow-style-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"\",name:\"Seach\",onChange:ValueSeach,placeholder:\"\\uD83D\\uDD0E Pesquisar\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tt\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nome\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tens\\xE3o\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:Object.values(data).map(function(produto){return console.log(produto),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:produto.id}),/*#__PURE__*/_jsx(\"td\",{children:produto.nome}),/*#__PURE__*/_jsx(\"td\",{children:produto.descricao}),/*#__PURE__*/_jsx(\"td\",{children:produto.tensao}),/*#__PURE__*/_jsx(\"td\",{children:produto.marca}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"ul\",{id:\"b\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/visualizar/\"+produto.id,children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--moema button--inverted button--text-thick button--size-s\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"V\"}),/*#__PURE__*/_jsx(\"span\",{children:\"i\"}),/*#__PURE__*/_jsx(\"span\",{children:\"z\"}),/*#__PURE__*/_jsx(\"span\",{children:\"u\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"l\"}),/*#__PURE__*/_jsx(\"span\",{children:\"i\"}),/*#__PURE__*/_jsx(\"span\",{children:\"z\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"r\"})]})}),\" \"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/editar/\"+produto.id,children:/*#__PURE__*/_jsxs(\"button\",{class:\" editar button button--moema button--inverted button--text-thick button--size-s\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"E\"}),/*#__PURE__*/_jsx(\"span\",{children:\"d\"}),/*#__PURE__*/_jsx(\"span\",{children:\"i\"}),/*#__PURE__*/_jsx(\"span\",{children:\"t\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"r\"})]})}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return apagarProduto(produto.id);},class:\"deletar button button--moema button--inverted button--text-thick button--size-s\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"e\"}),/*#__PURE__*/_jsx(\"span\",{children:\"l\"}),/*#__PURE__*/_jsx(\"span\",{children:\"e\"}),/*#__PURE__*/_jsx(\"span\",{children:\"t\"}),/*#__PURE__*/_jsx(\"span\",{children:\"a\"}),/*#__PURE__*/_jsx(\"span\",{children:\"r\"})]})})]})})]},produto.id),/*#__PURE__*/_jsx(\"br\",{})]});})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"grid-container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/cadastrar\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--nanuk button--round-l button--text-thick button--inverted\",children:[\"\\u2795 \",/*#__PURE__*/_jsx(\"span\",{children:\"C\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"S\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--nanuk button--round-l button--text-thick button--inverted\",children:[\"\\uD83D\\uDCD3 \",/*#__PURE__*/_jsx(\"span\",{children:\"L\"}),/*#__PURE__*/_jsx(\"span\",{children:\"I\"}),/*#__PURE__*/_jsx(\"span\",{children:\"S\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"})]})})]})}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(Page,{children:[/*#__PURE__*/_jsx(\"a\",{id:\"anterior\",onClick:function onClick(){return getProdutospage(localStorage.getItem(\"anterior\"));},href:\"#\",children:\"\\xAB\"}),/*#__PURE__*/_jsx(Ages2,{}),/*#__PURE__*/_jsx(\"a\",{id:\"proxima\",onClick:function onClick(){return getProdutospage(localStorage.getItem(\"proxima\"));},href:\"#\",children:\"\\xBB\"})]})})]});};","map":{"version":3,"sources":["C:/xampp/htdocs/front-end/src/pages/Seach/index.js"],"names":["React","useState","useEffect","Link","Container","ConteudoTitulo","BotaoAcao","ButtonSuccess","Table","Titulo","ButtonPrimary","ButtonWarning","ButtonDanger","AlertSuccess","AlertDanger","page","Page","Seach","data","setData","totpage","setTotpage","type","mensagem","status","setStatus","setSeach","localStorage","setItem","ValueSeach","e","target","name","value","setTimeout","console","log","getProdutospage","getItem","fetch","then","response","json","responseJson","teste44","Produtos","params","nome","b","document","getElementById","style","display","teste2","x","botao2","apagarProduto","idProduto","method","headers","erro","catch","Ages2","teste","index","push","cont","Object","values","map","produto","id","descricao","tensao","marca"],"mappings":"8sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,eAAP,CAEA,OAASC,SAAT,CAAoBC,cAApB,CAAoCC,SAApC,CAA+CC,aAA/C,CAA8DC,KAA9D,CAAqEC,MAArE,CAA6EC,aAA7E,CAA4FC,aAA5F,CAA2GC,YAA3G,CAAyHC,YAAzH,CAAuIC,WAAvI,CAAoJC,IAApJ,CAA0JC,IAA1J,KAAsK,UAAtK,C,6IAGA,MAAO,IAAMC,CAAAA,KAAK,CAAG,gBAAM,CAEzB,cAAwBhB,QAAQ,CAAC,EAAD,CAAhC,wCAAOiB,IAAP,eAAaC,OAAb,eACA,eAA8BlB,QAAQ,CAAC,EAAD,CAAtC,yCAAOmB,OAAP,eAAgBC,UAAhB,eAGA,eAA4BpB,QAAQ,CAAC,CACnCqB,IAAI,CAAE,EAD6B,CAEnCC,QAAQ,CAAE,EAFyB,CAAD,CAApC,yCAAOC,MAAP,eAAeC,SAAf,eAKA,eAA0BxB,QAAQ,CAAC,CACjCgB,KAAK,CAAE,EAD0B,CAAD,CAAlC,yCAAOA,KAAP,eAAcS,QAAd,eAIAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BX,KAAK,CAACA,KAApC,EAEA,GAAMY,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAO,CACxBJ,QAAQ,gCACHT,KADG,wBACKa,CAAC,CAACC,MAAF,CAASC,IADd,CACqBF,CAAC,CAACC,MAAF,CAASE,KAD9B,GAAR,CAIAC,UAAU,CAAC,UAAY,CACrBC,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAACA,KAAlB,EACAoB,eAAe,CAACV,YAAY,CAACW,OAAb,CAAqB,OAArB,CAAD,CAAf,CACD,CAHS,CAGP,GAHO,CAAV,CAKD,CAVD,CAYA,GAAMD,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACtB,IAAD,CAAU,CAChCoB,OAAO,CAACC,GAAR,CAAYrB,IAAZ,EACAwB,KAAK,CAAC,oEAAsExB,IAAvE,CAAL,CACGyB,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,YAAD,QACJC,CAAAA,OAAO,CAACD,YAAY,CAACE,QAAd,CADH,EAFR,EAMD,CARD,CAcA,QAASD,CAAAA,OAAT,CAAiBE,MAAjB,CAAyB,CACvB,GAAIA,MAAM,EAAI,GAAd,CAAmB,CACjBX,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACAjB,OAAO,CAAC,CACN,CAAE4B,IAAI,CAAE,4BAAR,CADM,CAAD,CAAP,CAGA,GAAIC,CAAAA,CAAC,CAAGC,QAAQ,CAACC,cAAT,CAAwB,GAAxB,CAAR,CACAF,CAAC,CAACG,KAAF,CAAQC,OAAR,CAAkB,MAAlB,CACD,CAPD,IAOO,CACLjC,OAAO,CAAC2B,MAAD,CAAP,CACD,CAEF,CAKD,QAASO,CAAAA,MAAT,CAAgBC,CAAhB,CAAmB,CAEjB,GAAIA,CAAC,EAAI3B,YAAY,CAACW,OAAb,CAAqB,QAArB,CAAT,CAAyC,CACvC,GAAIiB,CAAAA,MAAM,CAAGN,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAb,CACAK,MAAM,CAACJ,KAAP,CAAaC,OAAb,CAAuB,MAAvB,CACD,CAHD,IAGO,CACL,GAAIG,CAAAA,MAAM,CAAGN,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAb,CACAK,MAAM,CAACJ,KAAP,CAAaC,OAAb,CAAuB,QAAvB,CACD,CACF,CAED,GAAMI,CAAAA,aAAa,0FAAG,iBAAOC,SAAP,wIAEdlB,CAAAA,KAAK,CAAC,6DAA+DkB,SAAhE,CAA2E,CACpFC,MAAM,CAAE,QAD4E,CAEpFC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF2E,CAA3E,CAAL,CAKHnB,IALG,CAKE,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EALF,EAMHF,IANG,CAME,SAACG,YAAD,CAAkB,CACtB,GAAIA,YAAY,CAACiB,IAAjB,CAAuB,CACrBnC,SAAS,CAAC,CACRH,IAAI,CAAE,MADE,CAERC,QAAQ,CAAEoB,YAAY,CAACnB,MAFf,CAAD,CAAT,CAID,CALD,IAKO,CACLC,SAAS,CAAC,CACRH,IAAI,CAAE,SADE,CAERC,QAAQ,CAAEoB,YAAY,CAACnB,MAFf,CAAD,CAAT,CAKD,CACF,CAnBG,EAmBDqC,KAnBC,CAmBK,UAAM,CACbpC,SAAS,CAAC,CACRH,IAAI,CAAE,MADE,CAERC,QAAQ,CAAE,yDAFF,CAAD,CAAT,CAID,CAxBG,CAFc,uDAAH,kBAAbiC,CAAAA,aAAa,4CAAnB,CA+BAtD,SAAS,CAAC,UAAM,CAEf,CAFQ,CAEN,EAFM,CAAT,CAKA,GAAM4D,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CADkB,yBAETC,KAFS,EAIhB,GAAIA,KAAK,EAAIrC,YAAY,CAACW,OAAb,CAAqB,OAArB,CAAb,CAA4C,CAC1CyB,KAAK,CAACE,IAAN,cAAW,UAAG,OAAO,CAAE,yBAAM5B,CAAAA,eAAe,CAAC,gEAAkE2B,KAAnE,CAArB,EAAZ,CAA4G,KAAK,CAAC,QAAlH,CAA2H,IAAI,CAAC,GAAhI,UAAqIA,KAArI,EAAX,EACD,CAFD,IAEO,CACLD,KAAK,CAACE,IAAN,cAAW,UAAG,OAAO,CAAE,yBAAM5B,CAAAA,eAAe,CAAC,gEAAkE2B,KAAnE,CAArB,EAAZ,CAA4G,IAAI,CAAC,GAAjH,UAAsHA,KAAtH,EAAX,EACD,CARe,EAElB,IAAK,GAAIA,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,EAAI5C,OAA7B,CAAsC4C,KAAK,EAA3C,CAA+C,OAAtCA,KAAsC,EAQ9C,CACD,MAAOD,CAAAA,KAAP,CACD,CAZD,CAaA,GAAIG,CAAAA,IAAI,CAAG,CAAX,CACA,mBACE,MAAC,SAAD,YACG1C,MAAM,CAACF,IAAP,GAAgB,MAAhB,cAAyB,KAAC,WAAD,WAAcE,MAAM,CAACD,QAArB,EAAzB,CAAwE,EAD3E,CAEGC,MAAM,CAACF,IAAP,GAAgB,SAAhB,cAA4B,KAAC,YAAD,WAAeE,MAAM,CAACD,QAAtB,EAA5B,CAA6E,EAFhF,cAKE,YAAK,KAAK,CAAC,gBAAX,uBACE,kCAIE,YAAK,KAAK,CAAC,qBAAX,uBACE,cAAO,KAAK,CAAC,EAAb,CAAgB,IAAI,CAAC,OAArB,CAA6B,QAAQ,CAAEM,UAAvC,CAAmD,WAAW,CAAC,wBAA/D,EADF,EAJF,EADF,EALF,cAkBE,YAAK,SAAS,CAAC,IAAf,uBACE,sCACE,mCACE,0BADF,cAEE,4BAFF,cAGE,uCAHF,cAIE,iCAJF,cAKE,6BALF,GADF,cAQE,uBACGsC,MAAM,CAACC,MAAP,CAAclD,IAAd,EAAoBmD,GAApB,CAAwB,SAAAC,OAAO,QAC9BnC,CAAAA,OAAO,CAACC,GAAR,CAAYkC,OAAZ,eACA,wCAAE,mCACA,oBAAKA,OAAO,CAACC,EAAb,EADA,cAEA,oBAAKD,OAAO,CAACvB,IAAb,EAFA,cAGA,oBAAKuB,OAAO,CAACE,SAAb,EAHA,cAIA,oBAAKF,OAAO,CAACG,MAAb,EAJA,cAKA,oBAAKH,OAAO,CAACI,KAAb,EALA,cAMA,iCACE,YAAI,EAAE,CAAC,GAAP,wBACE,mCAAI,KAAC,IAAD,EAAM,EAAE,CAAE,eAAiBJ,OAAO,CAACC,EAAnC,uBACF,gBAAQ,KAAK,CAAC,yEAAd,wBACE,2BADF,cACgB,2BADhB,cAC8B,2BAD9B,cAC4C,2BAD5C,cAC0D,2BAD1D,cACwE,2BADxE,cACsF,2BADtF,cACoG,2BADpG,cACkH,2BADlH,cACgI,2BADhI,GADE,EAAJ,CAIQ,GAJR,GADF,cAME,uCAAK,KAAC,IAAD,EAAM,EAAE,CAAE,WAAaD,OAAO,CAACC,EAA/B,uBACH,gBAAQ,KAAK,CAAC,iFAAd,wBACE,2BADF,cACgB,2BADhB,cAC8B,2BAD9B,cAC4C,2BAD5C,cAC0D,2BAD1D,cACwE,2BADxE,GADG,EAAL,CAIQ,GAJR,GANF,cAWE,iCAAI,gBAAQ,OAAO,CAAE,yBAAMf,CAAAA,aAAa,CAACc,OAAO,CAACC,EAAT,CAAnB,EAAjB,CAAkD,KAAK,CAAC,iFAAxD,wBACF,2BADE,cACY,2BADZ,cAC0B,2BAD1B,cACwC,2BADxC,cACsD,2BADtD,cACoE,2BADpE,cACkF,2BADlF,GAAJ,EAXF,GADF,EANA,GAASD,OAAO,CAACC,EAAjB,CAAF,cAwBE,aAxBF,GAF8B,EAA/B,CADH,EARF,GADF,EAlBF,cA4DE,YAAK,KAAK,CAAC,gBAAX,uBACE,oCACE,KAAC,IAAD,EAAM,EAAE,CAAC,YAAT,uBACE,gBAAQ,KAAK,CAAC,0EAAd,kCACI,2BADJ,cACkB,2BADlB,cACgC,2BADhC,cAC8C,2BAD9C,cAC4D,2BAD5D,cAC0E,2BAD1E,cACwF,2BADxF,cACsG,2BADtG,cACoH,2BADpH,GADF,EADF,cAME,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,gBAAQ,KAAK,CAAC,0EAAd,wCACG,2BADH,cACiB,2BADjB,cAC+B,2BAD/B,cAC6C,2BAD7C,cAC2D,2BAD3D,cACyE,2BADzE,GADF,EANF,GADF,EA5DF,cA0EE,qCACE,MAAC,IAAD,yBACE,UAAG,EAAE,CAAC,UAAN,CAAiB,OAAO,CAAE,yBAAMlC,CAAAA,eAAe,CAACV,YAAY,CAACW,OAAb,CAAqB,UAArB,CAAD,CAArB,EAA1B,CAAmF,IAAI,CAAC,GAAxF,kBADF,cAEE,KAAC,KAAD,IAFF,cAIE,UAAG,EAAE,CAAC,SAAN,CAAgB,OAAO,CAAE,yBAAMD,CAAAA,eAAe,CAACV,YAAY,CAACW,OAAb,CAAqB,SAArB,CAAD,CAArB,EAAzB,CAAiF,IAAI,CAAC,GAAtF,kBAJF,GADF,EA1EF,GADF,CAqFD,CA9MM","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"../../App.css\";\r\n\r\nimport { Container, ConteudoTitulo, BotaoAcao, ButtonSuccess, Table, Titulo, ButtonPrimary, ButtonWarning, ButtonDanger, AlertSuccess, AlertDanger, page, Page } from './styles';\r\n\r\n\r\nexport const Seach = () => {\r\n\r\n  const [data, setData] = useState([]);\r\n  const [totpage, setTotpage] = useState([]);\r\n\r\n\r\n  const [status, setStatus] = useState({\r\n    type: '',\r\n    mensagem: ''\r\n  });\r\n\r\n  const [Seach, setSeach] = useState({\r\n    Seach: '',\r\n  });\r\n\r\n  localStorage.setItem('seach', Seach.Seach);\r\n\r\n  const ValueSeach = (e) => {\r\n    setSeach({\r\n      ...Seach, [e.target.name]: e.target.value\r\n    })\r\n\r\n    setTimeout(function () {\r\n      console.log(Seach.Seach);\r\n      getProdutospage(localStorage.getItem(\"seach\"));\r\n    }, 600);\r\n\r\n  }\r\n\r\n  const getProdutospage = (page) => {\r\n    console.log(page);\r\n    fetch(\"https://www.armandosoares.com.br/grupoplan/api/produtos/s?titulo=\" + page)\r\n      .then((response) => response.json())\r\n      .then((responseJson) => (\r\n        teste44(responseJson.Produtos)\r\n      )\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  function teste44(params) {\r\n    if (params == 204) {\r\n      console.log(\"nehum econtrado\")\r\n      setData([\r\n        { nome: 'Nenhum registro encontrado' }\r\n      ])\r\n      var b = document.getElementById(\"b\")\r\n      b.style.display = \"none\"\r\n    } else {\r\n      setData(params)\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  function teste2(x) {\r\n\r\n    if (x == localStorage.getItem('ultima')) {\r\n      var botao2 = document.getElementById(\"proxima\")\r\n      botao2.style.display = \"none\"\r\n    } else {\r\n      var botao2 = document.getElementById(\"proxima\")\r\n      botao2.style.display = \"inline\"\r\n    }\r\n  }\r\n\r\n  const apagarProduto = async (idProduto) => {\r\n    //console.log(idProduto);\r\n    await fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto?id=\" + idProduto, {\r\n      method: 'delete',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then((response) => response.json())\r\n      .then((responseJson) => {\r\n        if (responseJson.erro) {\r\n          setStatus({\r\n            type: 'erro',\r\n            mensagem: responseJson.status\r\n          });\r\n        } else {\r\n          setStatus({\r\n            type: 'success',\r\n            mensagem: responseJson.status\r\n          });\r\n\r\n        }\r\n      }).catch(() => {\r\n        setStatus({\r\n          type: 'erro',\r\n          mensagem: \"Erro: Produto n√£o apagado com sucesso, tente mais tarde\"\r\n        });\r\n      });\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n\r\n  const Ages2 = () => {\r\n    var teste = [];\r\n    for (let index = 1; index <= totpage; index++) {\r\n\r\n      if (index == localStorage.getItem(\"atual\")) {\r\n        teste.push(<a onClick={() => getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\" + index)} class='active' href='#'>{index}</a>);\r\n      } else {\r\n        teste.push(<a onClick={() => getProdutospage(\"https://www.armandosoares.com.br/grupoplan/api/produtos?page=\" + index)} href='#'>{index}</a>);\r\n      }\r\n\r\n    }\r\n    return teste\r\n  };\r\n  var cont = 1;\r\n  return (\r\n    <Container>\r\n      {status.type === 'erro' ? <AlertDanger>{status.mensagem}</AlertDanger> : \"\"}\r\n      {status.type === 'success' ? <AlertSuccess>{status.mensagem}</AlertSuccess> : \"\"}\r\n\r\n\r\n      <div class=\"grid-container\">\r\n        <div>\r\n\r\n         \r\n\r\n          <div class=\"webflow-style-input\">\r\n            <input class=\"\" name='Seach' onChange={ValueSeach} placeholder=\"üîé Pesquisar\"></input>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div className='tt'>\r\n        <table>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Nome</th>\r\n            <th>Descri√ß√£o</th>\r\n            <th>Tens√£o</th>\r\n            <th>Marca</th>\r\n          </tr>\r\n          <tbody>\r\n            {Object.values(data).map(produto => (\r\n              console.log(produto),\r\n              <><tr key={produto.id}>\r\n                <td>{produto.id}</td>\r\n                <td>{produto.nome}</td>\r\n                <td>{produto.descricao}</td>\r\n                <td>{produto.tensao}</td>\r\n                <td>{produto.marca}</td>\r\n                <td>\r\n                  <ul id='b'>\r\n                    <li><Link to={\"/visualizar/\" + produto.id}>\r\n                      <button class=\"button button--moema button--inverted button--text-thick button--size-s\">\r\n                        <span>V</span><span>i</span><span>z</span><span>u</span><span>a</span><span>l</span><span>i</span><span>z</span><span>a</span><span>r</span>\r\n                      </button>\r\n                    </Link>{\" \"}</li>\r\n                    <li> <Link to={\"/editar/\" + produto.id}>\r\n                      <button class=\" editar button button--moema button--inverted button--text-thick button--size-s\">\r\n                        <span>E</span><span>d</span><span>i</span><span>t</span><span>a</span><span>r</span>\r\n                      </button>\r\n                    </Link>{\" \"}</li>\r\n                    <li><button onClick={() => apagarProduto(produto.id)} class=\"deletar button button--moema button--inverted button--text-thick button--size-s\">\r\n                      <span>D</span><span>e</span><span>l</span><span>e</span><span>t</span><span>a</span><span>r</span>\r\n                    </button></li>\r\n                  </ul>\r\n                </td>\r\n              </tr>\r\n                <br></br>\r\n              </>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"grid-container\">\r\n        <div>\r\n          <Link to=\"/cadastrar\">\r\n            <button class=\"button button--nanuk button--round-l button--text-thick button--inverted\">\r\n              ‚ûï <span>C</span><span>A</span><span>D</span><span>A</span><span>S</span><span>T</span><span>R</span><span>A</span><span>R</span>\r\n            </button>\r\n          </Link>\r\n          <Link to=\"/\">\r\n            <button class=\"button button--nanuk button--round-l button--text-thick button--inverted\">\r\n            üìì <span>L</span><span>I</span><span>S</span><span>T</span><span>A</span><span>R</span>\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      <center>\r\n        <Page>\r\n          <a id='anterior' onClick={() => getProdutospage(localStorage.getItem(\"anterior\"))} href=\"#\">&laquo;</a>\r\n          <Ages2>\r\n          </Ages2>\r\n          <a id='proxima' onClick={() => getProdutospage(localStorage.getItem(\"proxima\"))} href=\"#\">&raquo;</a>\r\n        </Page>\r\n      </center>\r\n    </Container>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}