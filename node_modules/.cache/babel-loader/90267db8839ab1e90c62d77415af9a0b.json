{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Container,ConteudoForm,ConteudoTitulo,Titulo,BotaoAcao,ButtonInfo,AlertSuccess,AlertDanger,Form,Label,Input,ButtonWarning}from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Editar=function Editar(props){var _useState=useState(props.match.params.id),_useState2=_slicedToArray(_useState,1),id=_useState2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nome=_useState4[0],setNome=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),descricao=_useState6[0],setDescricao=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),tensao=_useState8[0],setTensao=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),marca=_useState10[0],setMarca=_useState10[1];var _useState11=useState({type:'',mensagem:''}),_useState12=_slicedToArray(_useState11,2),status=_useState12[0],setStatus=_useState12[1];var editProduto=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto\",{method:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id,nome:nome,descricao:descricao,tensao:tensao,marca:marca})}).then(function(response){return response.json();}).then(function(responseJson){// console.log(responseJson.status);\nif(responseJson.erro){setStatus({type:'erro',mensagem:responseJson.status});}else{setStatus({type:'success',mensagem:responseJson.status});}}).catch(function(){setStatus({type:'erro',mensagem:\"Produto nÃ£o editado com sucesso, tente mais tarde!\"});});case 3:case\"end\":return _context.stop();}}},_callee);}));return function editProduto(_x){return _ref.apply(this,arguments);};}();useEffect(function(){var getProduto=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto?id=\"+id).then(function(response){return response.json();}).then(function(responseJson){setNome(responseJson.nome);setDescricao(responseJson.descricao);setTensao(responseJson.tensao);setMarca(responseJson.marca);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getProduto(){return _ref2.apply(this,arguments);};}();getProduto();},[id]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(ConteudoForm,{children:[/*#__PURE__*/_jsxs(ConteudoTitulo,{children:[/*#__PURE__*/_jsx(Titulo,{children:\"Editar\"}),/*#__PURE__*/_jsx(BotaoAcao,{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"button button--nanuk button--round-l button--text-thick button--inverted\",children:[\"\\uD83D\\uDCD3 \",/*#__PURE__*/_jsx(\"span\",{children:\"L\"}),/*#__PURE__*/_jsx(\"span\",{children:\"I\"}),/*#__PURE__*/_jsx(\"span\",{children:\"S\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"})]})})})]}),status.type==='erro'?/*#__PURE__*/_jsx(AlertDanger,{children:status.mensagem}):\"\",status.type==='success'?/*#__PURE__*/_jsx(AlertSuccess,{children:status.mensagem}):\"\",/*#__PURE__*/_jsxs(Form,{onSubmit:editProduto,children:[/*#__PURE__*/_jsx(Label,{children:\"Nome: \"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"nome\",placeholder:\"T\\xEDtulo do produto\",value:nome,onChange:function onChange(e){return setNome(e.target.value);}}),/*#__PURE__*/_jsx(Label,{children:\"Descri\\xE7\\xE3o: \"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"descricao\",placeholder:\"Descri\\xE7\\xE3o do produto\",value:descricao,onChange:function onChange(e){return setDescricao(e.target.value);}}),/*#__PURE__*/_jsx(Label,{children:\"Tens\\xE3o: \"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"tensao\",placeholder:\"Tens\\xE3o do produto\",value:tensao,onChange:function onChange(e){return setTensao(e.target.value);}}),/*#__PURE__*/_jsx(Label,{children:\"Marca: \"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"marca\",placeholder:\"Marca do produto\",value:marca,onChange:function onChange(e){return setMarca(e.target.value);}}),/*#__PURE__*/_jsx(ButtonWarning,{className:\"botaoeditar\",type:\"submit\",children:\"Editar\"})]})]})});};","map":{"version":3,"sources":["C:/xampp/htdocs/front-end/src/pages/Editar/index.js"],"names":["React","useState","useEffect","Link","Container","ConteudoForm","ConteudoTitulo","Titulo","BotaoAcao","ButtonInfo","AlertSuccess","AlertDanger","Form","Label","Input","ButtonWarning","Editar","props","match","params","id","nome","setNome","descricao","setDescricao","tensao","setTensao","marca","setMarca","type","mensagem","status","setStatus","editProduto","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","responseJson","erro","catch","getProduto","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Container, ConteudoForm, ConteudoTitulo, Titulo, BotaoAcao, ButtonInfo, AlertSuccess, AlertDanger, Form, Label, Input, ButtonWarning } from './styles';\r\n\r\nexport const Editar = (props) => {\r\n\r\n    const [id] = useState(props.match.params.id);\r\n    const [nome, setNome] = useState('');\r\n    const [descricao, setDescricao] = useState('');\r\n    const [tensao, setTensao] = useState('');\r\n    const [marca, setMarca] = useState('');\r\n\r\n    const [status, setStatus] = useState({\r\n        type: '',\r\n        mensagem: ''\r\n    })\r\n\r\n    const editProduto = async e => {\r\n        e.preventDefault();\r\n        await fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto\", {\r\n            method: 'put',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ id, nome, descricao,tensao,marca })\r\n        }).then((response) => response.json())\r\n            .then((responseJson) => {\r\n                // console.log(responseJson.status);\r\n                if (responseJson.erro) {\r\n                    setStatus({\r\n                        type: 'erro',\r\n                        mensagem: responseJson.status\r\n                    });\r\n                } else {\r\n                    setStatus({\r\n                        type: 'success',\r\n                        mensagem: responseJson.status\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                setStatus({\r\n                    type: 'erro',\r\n                    mensagem: \"Produto nÃ£o editado com sucesso, tente mais tarde!\"\r\n                });\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getProduto = async () => {\r\n            await fetch(\"https://www.armandosoares.com.br/grupoplan/api/produto?id=\" + id)\r\n                .then((response) => response.json())\r\n                .then((responseJson) => {\r\n                    setNome(responseJson.nome);\r\n                    setDescricao(responseJson.descricao);\r\n                    setTensao(responseJson.tensao);\r\n                    setMarca(responseJson.marca);\r\n                });\r\n        }\r\n        getProduto();\r\n    }, [id]);\r\n\r\n    return (\r\n        <Container>\r\n            <ConteudoForm>\r\n                <ConteudoTitulo>\r\n                    <Titulo>Editar</Titulo>\r\n                    <BotaoAcao>\r\n                    <Link to=\"/\">\r\n            <button class=\"button button--nanuk button--round-l button--text-thick button--inverted\">\r\n            ð <span>L</span><span>I</span><span>S</span><span>T</span><span>A</span><span>R</span>\r\n            </button>\r\n          </Link>\r\n                    </BotaoAcao>\r\n                </ConteudoTitulo>\r\n\r\n                {status.type === 'erro' ? <AlertDanger>{status.mensagem}</AlertDanger> : \"\"}\r\n                {status.type === 'success' ? <AlertSuccess>{status.mensagem}</AlertSuccess> : \"\"}\r\n\r\n\r\n                <Form onSubmit={editProduto}>\r\n                    <Label>Nome: </Label>\r\n                    <Input type=\"text\" name=\"nome\" placeholder=\"TÃ­tulo do produto\" value={nome} onChange={e => setNome(e.target.value)} />\r\n\r\n                    <Label>DescriÃ§Ã£o: </Label>\r\n                    <Input type=\"text\" name=\"descricao\" placeholder=\"DescriÃ§Ã£o do produto\" value={descricao} onChange={e => setDescricao(e.target.value)} />\r\n\r\n                    <Label>TensÃ£o: </Label>\r\n                    <Input type=\"text\" name=\"tensao\" placeholder=\"TensÃ£o do produto\" value={tensao} onChange={e => setTensao(e.target.value)} />\r\n\r\n                    <Label>Marca: </Label>\r\n                    <Input type=\"text\" name=\"marca\" placeholder=\"Marca do produto\" value={marca} onChange={e => setMarca(e.target.value)} />\r\n\r\n                    <ButtonWarning className='botaoeditar' type=\"submit\">Editar</ButtonWarning>\r\n                </Form>\r\n\r\n            </ConteudoForm>\r\n        </Container>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}